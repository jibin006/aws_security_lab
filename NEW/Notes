
How to configure the CLI with access keys:
          aws configure --profile access

Finding profiles on your local machine: 
          vim ~/.aws/config
          vim ~/.aws/credentials

Issuing CLI commands:
When you run a command like aws sts get-caller-identity, AWS checks who you are based on your credentials.
        If successful, it returns details such as:
        UserId: Your AWS identity
        Account: Your AWS account number
        Arn: Your unique AWS resource name
        This is like running "whoami" on a computer to see your current user identity.
          
           aws sts get-caller-identity
                 "UserId": "AIDA....",
                 "Account": "2722....",
                 "Arn": "arn:aws:iam::2722...:user/cli"

           aws sts get-caller-identity --profile access
                   "UserId": "AIDA....",
                   "Account": "467...",
                   "Arn": "arn:aws:iam::467...:user/get"

Switching to a Role in AWS CLI:
      aws iam list-roles --profile access --query "Roles[?RoleName=='AWSCLIRole']"
Add the role to your AWS config file (~/.aws/config):
      [profile AWSCLIRole]
      role_arn = arn:aws:iam::115:role/AWSCLIRole
      source_profile = access
aws sts get-caller-identity --profile AWSCLIRole

result:
 aws sts get-caller-identity --profile AWSCLIRole
{
    "UserId": "ARO......",
    "Account": "350.....",
    "Arn": "arn:aws:sts::350:assumed-role/AWSCLIRole/bot"
}

aws sts get-caller-identity --profile access
{
    "UserId": "AIDA",
    "Account": "350",
    "Arn": "arn:aws:iam::350:user/get"
}

Accessing an S3 Bucket:

aws s3api list-buckets --profile  AWSCLIRole
{
    "Buckets": [
        {
            "Name": "cy-data-bucket-",
            "CreationDate": "2021-02-04T14:52:41+00:00"
        }
    ],
    "Owner": {
        "DisplayName": "chri",
        "ID": "315c....."
    },
    "Prefix": null
}

 
"aws iam get-user " : to see details about your IAM user/role.
"aws ec2 describe-instances": This command to give you information about all the EC2 instances (virtual machines) in your account.
"aws iam create-access-key --user-name YOUR_USERNAME" : creating new access key









